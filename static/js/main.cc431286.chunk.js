(this.webpackJsonpsnaptrude=this.webpackJsonpsnaptrude||[]).push([[0],{136:function(e,t,a){},137:function(e,t,a){},220:function(e,t,a){"use strict";a.r(t);var n=a(56),c=a(6),s=a.n(c),r=a(51),i=a.n(r),o=(a(136),a(137),a(46)),l=(a(138),a(139),a(85)),j=a(131),u=a(92),b=a.n(u),d=a(62),p=a(11),m=a(20),h=new p.j(1,1,1),x=new p.j(1.25,1.25,1.25),O=function(e){var t=Object(c.useRef)(null),a=Object(c.useState)(!1),n=Object(o.a)(a,2),s=n[0],r=n[1];Object(d.d)((function(){return r((function(e){return!e}))}),t);var i=Object(c.useState)(!1),l=Object(o.a)(i,2),j=(l[0],l[1]);Object(d.e)((function(){return j(!0)}),(function(){return j(!1)}),t);return Object(d.c)((function(e){if(t.current){var a=e.getEngine().getDeltaTime();t.current.rotation.x+=7/60*Math.PI*2*(a/1e3),t.current.rotation.y+=7/60*Math.PI*2*(a/1e3)}})),Object(m.jsx)("box",{name:e.name,ref:t,size:1,position:e.position,scaling:s?x:h,children:Object(m.jsx)("standardMaterial",{name:"imageBox",backFaceCulling:!1,children:Object(m.jsx)("texture",{url:e.url,assignTo:"diffuseTexture",hasAlpha:!0})})})},f=function(e){return Object(m.jsx)("div",{children:Object(m.jsx)(d.a,{antialias:!0,adaptToDeviceRatio:!0,width:"500px",height:"500px",canvasId:"babylonJS",children:Object(m.jsxs)(d.b,{children:[Object(m.jsx)("arcRotateCamera",{name:"Camera",alpha:3*Math.PI/2,beta:Math.PI/2,radius:3,target:p.j.Zero()}),Object(m.jsx)("hemisphericLight",{name:"light1",direction:p.j.Up(),intensity:.7,diffuse:p.b.White(),specular:p.b.White(),groundColor:p.b.White()}),Object(m.jsx)(O,{name:"imageBox",position:new p.j(0,0,0),color:p.b.FromHexString("#EEB5EB"),hoveredColor:p.b.FromHexString("#C26DBC"),url:e.url})]})})})},v=a(60),g=a.n(v),N=a(86),w=function(e){var t=Object(c.useState)(""),a=Object(o.a)(t,2),n=a[0],s=a[1],r=Object(N.b)();return Object(m.jsxs)("form",{onSubmit:function(t){t.preventDefault();var a={name:n,url:e.url};g.a.post("".concat("http://localhost:5000","/map/add"),a).then((function(t){e.closeModal(),s(""),r.show("Map Saved Successfully!",{timeout:5e3,type:"success"})})).catch((function(e){r.show("Error Occured!",{timeout:5e3,type:"error"})}))},children:[Object(m.jsxs)("div",{className:"form-group",children:[Object(m.jsx)("label",{children:"Name: "}),Object(m.jsx)("input",{type:"text",required:!0,className:"form-control",value:n,placeholder:"Enter name",onChange:function(e){return s(e.target.value)}})]}),Object(m.jsx)("div",{className:"form-group",children:Object(m.jsx)("input",{type:"submit",value:"Save Map",className:"btn btn-primary mt-4 mx-auto"})})]})},y={content:{top:"15%",left:"50%",right:"70%",bottom:"auto",marginRight:"-50%",paddingLeft:"35px",transform:"translate(-50%, 0)"}};b.a.setAppElement("#root");var M=function(e){var t=s.a.useState(!1),a=Object(o.a)(t,2),n=a[0],c=a[1];function r(){c(!1)}return Object(m.jsxs)("div",{children:[Object(m.jsx)("button",{className:"btn btn-success btn-lg",onClick:function(){c(!0)},children:"3D Preview"}),Object(m.jsxs)(b.a,{isOpen:n,onRequestClose:r,style:y,children:[Object(m.jsx)("h4",{children:"3-D Map Preview"}),Object(m.jsx)(f,{url:e.url}),e.show?Object(m.jsx)(w,{url:e.url,closeModal:r}):Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("h3",{children:e.name}),Object(m.jsx)("button",{className:"btn btn-danger",onClick:function(){return t=e.id,void g.a.delete("".concat("http://localhost:5000","/map/").concat(t)).then((function(a){c(!1),e.updateMaps(t)}));var t},children:"Delete Map"})]})]})]})},C="pk.eyJ1IjoidGl3aWsiLCJhIjoiY2tvNDkwMXE3MDV4czJ2czYyMWNtNWd0eCJ9.ASMmVxxmqBmLLmu0ADxS_w",S=function(){var e=Object(c.useState)({latitude:37.7577,longitude:-122.4376,zoom:8}),t=Object(o.a)(e,2),a=t[0],s=t[1],r="https://api.mapbox.com/styles/v1/mapbox/streets-v11/static/".concat(a.longitude,",").concat(a.latitude,",").concat(a.zoom,"/800x800?access_token=").concat(C),i=Object(c.useRef)(),u=Object(c.useCallback)((function(e){return s(e)}),[]),b=Object(c.useCallback)((function(e){return u(Object(n.a)(Object(n.a)({},e),{transitionDuration:1e3}))}),[]);return Object(m.jsxs)("div",{className:"mapBox",id:"map",children:[Object(m.jsx)(l.b,Object(n.a)(Object(n.a)({ref:i},a),{},{mapStyle:"mapbox://styles/mapbox/streets-v11",width:"700px",height:"700px",onViewportChange:u,mapboxApiAccessToken:C,children:Object(m.jsx)(j.a,{mapRef:i,onViewportChange:b,mapboxApiAccessToken:C,position:"top-right"})})),Object(m.jsx)("div",{className:"mapBox_control",children:Object(m.jsx)(M,{url:r,show:!0})})]})},D=(a(216),function(){return Object(m.jsxs)("nav",{className:"navbar navbar-expand-lg navbar-light bg-light fixed-top shadow",children:[Object(m.jsx)("a",{className:"navbar-brand",href:"/",children:"Map 3D"}),Object(m.jsx)("div",{className:"collapse navbar-collapse",id:"navbarNav",children:Object(m.jsxs)("ul",{className:"navbar-nav ml-auto",children:[Object(m.jsx)("li",{className:"nav-item active",children:Object(m.jsxs)("a",{className:"nav-link",href:"/",children:["Home ",Object(m.jsx)("span",{className:"sr-only",children:"(current)"})]})}),Object(m.jsx)("li",{className:"nav-item",children:Object(m.jsx)("a",{className:"nav-link",href:"/saved",children:"collection"})})]})})]})}),k=a(128),E=a(32),A=a(132),B=a(94),_=a.n(B),I=a(127),J=function(){var e=Object(c.useState)([]),t=Object(o.a)(e,2),a=t[0],n=t[1],s=function(){var e=Object(I.a)(_.a.mark((function e(){return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:g.a.get("".concat("http://localhost:5000","/map")).then((function(e){n(e.data)}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(c.useEffect)((function(){s()}),[]);return Object(m.jsxs)("div",{className:"collection",children:[Object(m.jsx)("h2",{children:"Saved Maps"}),Object(m.jsx)("div",{className:"row",children:a.map((function(e){return Object(m.jsxs)("div",{className:"col-md-3 mapDisplayWrapper",children:[Object(m.jsxs)("div",{className:"mapDisplay",children:[Object(m.jsx)("img",{src:e.url,alt:"",className:"mapDisplay_image"}),Object(m.jsx)("h5",{children:e.name})]}),Object(m.jsx)("div",{className:"mapDisplay_control",children:Object(m.jsx)(M,{url:e.url,name:e.name,updateMaps:function(){return function(e){var t=Object(A.a)(a).filter((function(t){return t._id!=e}));n(t)}(e._id)},id:e._id,show:!1})})]},e._id)}))})]})};var R=function(){return Object(m.jsx)("div",{className:"App",children:Object(m.jsxs)(k.a,{children:[Object(m.jsx)(D,{}),Object(m.jsx)(E.a,{path:"/",exact:!0,component:S}),Object(m.jsx)(E.a,{path:"/saved",component:J})]})})},W=a(130);i.a.render(Object(m.jsx)(N.a,Object(n.a)(Object(n.a)({template:W.a},{position:"top center",timeout:5e3,offset:"60px",transition:"scale"}),{},{children:Object(m.jsx)(R,{})})),document.getElementById("root"))}},[[220,1,2]]]);
//# sourceMappingURL=main.cc431286.chunk.js.map